<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Domain Hunter Pro Enhanced - Advanced Domain Research Tool</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            color: white;
            padding: 30px 0;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .tab {
            padding: 12px 24px;
            background: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .tab:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .tab.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .tab-content {
            display: none;
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .input-group {
            margin-bottom: 20px;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }
        
        input[type="text"], textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s;
        }
        
        input[type="text"]:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
        }
        
        textarea {
            min-height: 150px;
            resize: vertical;
            font-family: monospace;
        }
        
        .btn {
            padding: 12px 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }
        
        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        .btn-secondary {
            background: #6c757d;
            box-shadow: 0 4px 15px rgba(108, 117, 125, 0.4);
        }
        
        .btn-danger {
            background: #dc3545;
            box-shadow: 0 4px 15px rgba(220, 53, 69, 0.4);
        }
        
        .results-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        .results-table th,
        .results-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .results-table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #333;
            position: sticky;
            top: 0;
        }
        
        .results-table tr:hover {
            background: #f8f9fa;
        }
        
        .status-available {
            color: #28a745;
            font-weight: 600;
        }
        
        .status-taken {
            color: #dc3545;
            font-weight: 600;
        }
        
        .status-premium {
            color: #ffc107;
            font-weight: 600;
        }
        
        .status-expired {
            color: #6c757d;
            font-weight: 600;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            color: #667eea;
        }
        
        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        
        .stat-card h3 {
            font-size: 2em;
            margin-bottom: 5px;
        }
        
        .stat-card p {
            opacity: 0.9;
        }
        
        .filter-bar {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .filter-bar select {
            padding: 8px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
        }
        
        .badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .badge-premium {
            background: #ffc107;
            color: #000;
        }
        
        .badge-expiring {
            background: #ff6b6b;
            color: white;
        }
        
        .badge-cached {
            background: #4ecdc4;
            color: white;
        }
        
        .action-buttons {
            display: flex;
            gap: 8px;
        }
        
        .btn-small {
            padding: 6px 12px;
            font-size: 12px;
        }
        
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #6c757d;
        }
        
        .empty-state svg {
            width: 100px;
            height: 100px;
            margin-bottom: 20px;
            opacity: 0.3;
        }
        
        .cache-info {
            background: #e7f3ff;
            border-left: 4px solid #2196F3;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 4px;
        }
        
        .expiration-warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ Domain Hunter Pro Enhanced</h1>
            <p>Advanced domain research with auto-save, expiration tracking & premium detection</p>
        </div>
        
        <div class="tabs">
            <button class="tab active" onclick="switchTab('scanner')">Domain Scanner</button>
            <button class="tab" onclick="switchTab('watchlist')">Watchlist</button>
            <button class="tab" onclick="switchTab('expiration')">Expiration Tracker</button>
            <button class="tab" onclick="switchTab('portfolio')">Portfolio</button>
            <button class="tab" onclick="switchTab('cache')">Cache Manager</button>
        </div>
        
        <div id="scanner" class="tab-content active">
            <div class="cache-info">
                <strong>‚ÑπÔ∏è Auto-Save Enabled:</strong> All scanned domains are automatically saved to cache with expiration dates and premium status.
            </div>
            
            <div class="input-group">
                <label>Enter Domain or Bulk List</label>
                <textarea id="domainInput" placeholder="example.com&#10;test.com&#10;awesome-domain.com&#10;&#10;Or paste a bulk list..."></textarea>
            </div>
            
            <button class="btn" onclick="runCheck()">üöÄ Run Check</button>
            <button class="btn btn-secondary btn-small" onclick="clearResults()">Clear Results</button>
            
            <div id="scanResults"></div>
        </div>
        
        <div id="watchlist" class="tab-content">
            <h2>Auto Watchlist</h2>
            <p style="margin-bottom: 20px; color: #6c757d;">All scanned domains are automatically added to the watchlist. Monitor domains for availability changes.</p>
            
            <div class="filter-bar">
                <select onchange="filterWatchlist(this.value)">
                    <option value="all">All Domains</option>
                    <option value="available">Available</option>
                    <option value="premium">Premium</option>
                    <option value="expiring">Expiring Soon</option>
                </select>
                <button class="btn btn-small" onclick="refreshWatchlist()">üîÑ Refresh All</button>
            </div>
            
            <div id="watchlistResults"></div>
        </div>
        
        <div id="expiration" class="tab-content">
            <h2>Expiration Tracker</h2>
            <p style="margin-bottom: 20px; color: #6c757d;">Track expiration dates of scanned domains and see how many days are left.</p>
            
            <div class="stats" id="expirationStats"></div>
            
            <div class="filter-bar">
                <select onchange="filterExpiration(this.value)">
                    <option value="all">All Domains</option>
                    <option value="expired">Expired</option>
                    <option value="expiring7">Expiring in 7 days</option>
                    <option value="expiring30">Expiring in 30 days</option>
                    <option value="expiring90">Expiring in 90 days</option>
                </select>
            </div>
            
            <div id="expirationResults"></div>
        </div>
        
        <div id="portfolio" class="tab-content">
            <h2>Domain Portfolio</h2>
            <p style="margin-bottom: 20px; color: #6c757d;">Track bought domains and ROI.</p>
            
            <div class="input-group">
                <label>Add Domain to Portfolio</label>
                <input type="text" id="portfolioDomain" placeholder="example.com">
            </div>
            <div class="input-group">
                <label>Purchase Price ($)</label>
                <input type="text" id="portfolioPrice" placeholder="100">
            </div>
            <button class="btn" onclick="addToPortfolio()">Add to Portfolio</button>
            
            <div id="portfolioResults"></div>
        </div>
        
        <div id="cache" class="tab-content">
            <h2>Cache Manager</h2>
            <p style="margin-bottom: 20px; color: #6c757d;">Manage cached domain data. Cache stores domain status, expiration dates, and premium detection results.</p>
            
            <div class="stats" id="cacheStats"></div>
            
            <button class="btn btn-secondary" onclick="exportCache()">üì• Export Cache</button>
            <button class="btn btn-secondary" onclick="importCache()">üì§ Import Cache</button>
            <button class="btn btn-danger" onclick="clearCache()">üóëÔ∏è Clear All Cache</button>
            
            <div id="cacheResults"></div>
        </div>
    </div>

    <script>
        // Storage keys
        const STORAGE_KEYS = {
            CACHE: 'domainHunterCache',
            WATCHLIST: 'domainHunterWatchlist',
            PORTFOLIO: 'domainHunterPortfolio'
        };

        // Initialize app
        let cache = JSON.parse(localStorage.getItem(STORAGE_KEYS.CACHE) || '{}');
        let watchlist = JSON.parse(localStorage.getItem(STORAGE_KEYS.WATCHLIST) || '[]');
        let portfolio = JSON.parse(localStorage.getItem(STORAGE_KEYS.PORTFOLIO) || '[]');

        // Tab switching
        function switchTab(tabName) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(tabName).classList.add('active');
            
            // Load tab-specific data
            if (tabName === 'watchlist') loadWatchlist();
            if (tabName === 'expiration') loadExpiration();
            if (tabName === 'portfolio') loadPortfolio();
            if (tabName === 'cache') loadCacheManager();
        }

        // Save to localStorage
        function saveData() {
            localStorage.setItem(STORAGE_KEYS.CACHE, JSON.stringify(cache));
            localStorage.setItem(STORAGE_KEYS.WATCHLIST, JSON.stringify(watchlist));
            localStorage.setItem(STORAGE_KEYS.PORTFOLIO, JSON.stringify(portfolio));
        }

        // Domain checking simulation (replace with real API calls)
        async function checkDomain(domain) {
            // Simulate API delay
            await new Promise(resolve => setTimeout(resolve, 500));
            
            // Check if in cache and recent (less than 24 hours old)
            if (cache[domain] && (Date.now() - cache[domain].lastChecked < 86400000)) {
                return cache[domain];
            }
            
            // Simulate domain check results
            const random = Math.random();
            const isAvailable = random > 0.6;
            const isPremium = random > 0.85;
            
            // Generate random expiration date (between 30-365 days from now)
            const daysUntilExpiration = Math.floor(Math.random() * 335) + 30;
            const expirationDate = new Date();
            expirationDate.setDate(expirationDate.getDate() + daysUntilExpiration);
            
            const result = {
                domain: domain,
                available: isAvailable,
                premium: isPremium && isAvailable,
                expirationDate: expirationDate.toISOString(),
                daysLeft: daysUntilExpiration,
                lastChecked: Date.now(),
                cached: false
            };
            
            // Save to cache
            cache[domain] = result;
            
            // Auto-add to watchlist
            if (!watchlist.includes(domain)) {
                watchlist.push(domain);
            }
            
            saveData();
            return result;
        }

        // Run domain check
        async function runCheck() {
            const input = document.getElementById('domainInput').value.trim();
            if (!input) {
                alert('Please enter at least one domain');
                return;
            }
            
            const domains = input.split('\n').map(d => d.trim()).filter(d => d);
            const resultsDiv = document.getElementById('scanResults');
            
            resultsDiv.innerHTML = '<div class="loading"><div class="spinner"></div><p>Scanning domains...</p></div>';
            
            const results = [];
            for (const domain of domains) {
                const result = await checkDomain(domain);
                results.push(result);
            }
            
            displayScanResults(results);
        }

        // Display scan results
        function displayScanResults(results) {
            const resultsDiv = document.getElementById('scanResults');
            
            if (results.length === 0) {
                resultsDiv.innerHTML = '<div class="empty-state"><p>No results to display</p></div>';
                return;
            }
            
            let html = '<table class="results-table"><thead><tr>';
            html += '<th>Domain</th><th>Status</th><th>Expiration</th><th>Days Left</th><th>Actions</th>';
            html += '</tr></thead><tbody>';
            
            results.forEach(result => {
                const statusClass = result.available ? 'status-available' : 'status-taken';
                const statusText = result.available ? '‚úì Available' : '‚úó Taken';
                const premiumBadge = result.premium ? '<span class="badge badge-premium">PREMIUM</span>' : '';
                const cachedBadge = result.cached ? '<span class="badge badge-cached">CACHED</span>' : '';
                
                const expDate = new Date(result.expirationDate).toLocaleDateString();
                const daysLeftClass = result.daysLeft < 30 ? 'status-expired' : '';
                
                html += `<tr>
                    <td><strong>${result.domain}</strong> ${premiumBadge} ${cachedBadge}</td>
                    <td class="${statusClass}">${statusText}</td>
                    <td>${expDate}</td>
                    <td class="${daysLeftClass}">${result.daysLeft} days</td>
                    <td class="action-buttons">
                        <button class="btn btn-small" onclick="addToPortfolioQuick('${result.domain}')">üíº Portfolio</button>
                        <button class="btn btn-small btn-secondary" onclick="recheckDomain('${result.domain}')">üîÑ Recheck</button>
                    </td>
                </tr>`;
            });
            
            html += '</tbody></table>';
            resultsDiv.innerHTML = html;
        }

        // Load watchlist
        function loadWatchlist() {
            const resultsDiv = document.getElementById('watchlistResults');
            
            if (watchlist.length === 0) {
                resultsDiv.innerHTML = '<div class="empty-state"><p>No domains in watchlist. Scan domains to auto-add them.</p></div>';
                return;
            }
            
            let html = '<table class="results-table"><thead><tr>';
            html += '<th>Domain</th><th>Status</th><th>Last Checked</th><th>Actions</th>';
            html += '</tr></thead><tbody>';
            
            watchlist.forEach(domain => {
                const data = cache[domain] || {};
                const statusClass = data.available ? 'status-available' : 'status-taken';
                const statusText = data.available ? '‚úì Available' : '‚úó Taken';
                const premiumBadge = data.premium ? '<span class="badge badge-premium">PREMIUM</span>' : '';
                const lastChecked = data.lastChecked ? new Date(data.lastChecked).toLocaleString() : 'Never';
                
                html += `<tr>
                    <td><strong>${domain}</strong> ${premiumBadge}</td>
                    <td class="${statusClass}">${statusText}</td>
                    <td>${lastChecked}</td>
                    <td class="action-buttons">
                        <button class="btn btn-small" onclick="recheckDomain('${domain}')">üîÑ Check</button>
                        <button class="btn btn-small btn-danger" onclick="removeFromWatchlist('${domain}')">Remove</button>
                    </td>
                </tr>`;
            });
            
            html += '</tbody></table>';
            resultsDiv.innerHTML = html;
        }

        // Load expiration tracker
        function loadExpiration() {
            const resultsDiv = document.getElementById('expirationResults');
            const statsDiv = document.getElementById('expirationStats');
            
            const domains = Object.values(cache);
            
            if (domains.length === 0) {
                resultsDiv.innerHTML = '<div class="empty-state"><p>No domains tracked yet. Scan domains to start tracking expirations.</p></div>';
                statsDiv.innerHTML = '';
                return;
            }
            
            // Calculate stats
            const expired = domains.filter(d => d.daysLeft <= 0).length;
            const expiring30 = domains.filter(d => d.daysLeft > 0 && d.daysLeft <= 30).length;
            const expiring90 = domains.filter(d => d.daysLeft > 30 && d.daysLeft <= 90).length;
            
            statsDiv.innerHTML = `
                <div class="stat-card">
                    <h3>${expired}</h3>
                    <p>Expired Domains</p>
                </div>
                <div class="stat-card">
                    <h3>${expiring30}</h3>
                    <p>Expiring in 30 Days</p>
                </div>
                <div class="stat-card">
                    <h3>${expiring90}</h3>
                    <p>Expiring in 90 Days</p>
                </div>
                <div class="stat-card">
                    <h3>${domains.length}</h3>
                    <p>Total Tracked</p>
                </div>
            `;
            
            // Sort by days left
            domains.sort((a, b) => a.daysLeft - b.daysLeft);
            
            let html = '<table class="results-table"><thead><tr>';
            html += '<th>Domain</th><th>Expiration Date</th><th>Days Left</th><th>Status</th>';
            html += '</tr></thead><tbody>';
            
            domains.forEach(result => {
                const expDate = new Date(result.expirationDate).toLocaleDateString();
                const daysLeftClass = result.daysLeft < 30 ? 'status-expired' : (result.daysLeft < 90 ? 'status-premium' : '');
                const expiringBadge = result.daysLeft < 30 ? '<span class="badge badge-expiring">EXPIRING SOON</span>' : '';
                const expiredBadge = result.daysLeft <= 0 ? '<span class="badge badge-expiring">EXPIRED</span>' : '';
                
                html += `<tr>
                    <td><strong>${result.domain}</strong></td>
                    <td>${expDate}</td>
                    <td class="${daysLeftClass}"><strong>${result.daysLeft} days</strong></td>
                    <td>${expiredBadge}${expiringBadge}</td>
                </tr>`;
            });
            
            html += '</tbody></table>';
            resultsDiv.innerHTML = html;
        }

        // Load portfolio
        function loadPortfolio() {
            const resultsDiv = document.getElementById('portfolioResults');
            
            if (portfolio.length === 0) {
                resultsDiv.innerHTML = '<div class="empty-state"><p>Portfolio empty. Add domains to track your investment.</p></div>';
                return;
            }
            
            let html = '<table class="results-table"><thead><tr>';
            html += '<th>Domain</th><th>Purchase Price</th><th>Date Added</th><th>Actions</th>';
            html += '</tr></thead><tbody>';
            
            let totalInvestment = 0;
            
            portfolio.forEach((item, index) => {
                totalInvestment += parseFloat(item.price);
                const dateAdded = new Date(item.dateAdded).toLocaleDateString();
                
                html += `<tr>
                    <td><strong>${item.domain}</strong></td>
                    <td>$${item.price}</td>
                    <td>${dateAdded}</td>
                    <td class="action-buttons">
                        <button class="btn btn-small btn-danger" onclick="removeFromPortfolio(${index})">Remove</button>
                    </td>
                </tr>`;
            });
            
            html += '</tbody></table>';
            html += `<div style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
                <strong>Total Investment:</strong> $${totalInvestment.toFixed(2)}
            </div>`;
            resultsDiv.innerHTML = html;
        }

        // Load cache manager
        function loadCacheManager() {
            const statsDiv = document.getElementById('cacheStats');
            const resultsDiv = document.getElementById('cacheResults');
            
            const domains = Object.values(cache);
            const totalSize = new Blob([JSON.stringify(cache)]).size;
            const premium = domains.filter(d => d.premium).length;
            const available = domains.filter(d => d.available).length;
            
            statsDiv.innerHTML = `
                <div class="stat-card">
                    <h3>${domains.length}</h3>
                    <p>Cached Domains</p>
                </div>
                <div class="stat-card">
                    <h3>${(totalSize / 1024).toFixed(2)} KB</h3>
                    <p>Cache Size</p>
                </div>
                <div class="stat-card">
                    <h3>${premium}</h3>
                    <p>Premium Domains</p>
                </div>
                <div class="stat-card">
                    <h3>${available}</h3>
                    <p>Available Domains</p>
                </div>
            `;
            
            if (domains.length === 0) {
                resultsDiv.innerHTML = '<div class="empty-state"><p>Cache is empty</p></div>';
                return;
            }
            
            let html = '<table class="results-table"><thead><tr>';
            html += '<th>Domain</th><th>Last Checked</th><th>Status</th><th>Data</th>';
            html += '</tr></thead><tbody>';
            
            domains.forEach(result => {
                const lastChecked = new Date(result.lastChecked).toLocaleString();
                const statusClass = result.available ? 'status-available' : 'status-taken';
                const statusText = result.available ? 'Available' : 'Taken';
                const premiumBadge = result.premium ? '<span class="badge badge-premium">PREMIUM</span>' : '';
                
                html += `<tr>
                    <td><strong>${result.domain}</strong> ${premiumBadge}</td>
                    <td>${lastChecked}</td>
                    <td class="${statusClass}">${statusText}</td>
                    <td><small>Exp: ${new Date(result.expirationDate).toLocaleDateString()}</small></td>
                </tr>`;
            });
            
            html += '</tbody></table>';
            resultsDiv.innerHTML = html;
        }

        // Add to portfolio
        function addToPortfolio() {
            const domain = document.getElementById('portfolioDomain').value.trim();
            const price = document.getElementById('portfolioPrice').value.trim();
            
            if (!domain || !price) {
                alert('Please enter domain and price');
                return;
            }
            
            portfolio.push({
                domain: domain,
                price: parseFloat(price),
                dateAdded: Date.now()
            });
            
            saveData();
            loadPortfolio();
            
            document.getElementById('portfolioDomain').value = '';
            document.getElementById('portfolioPrice').value = '';
        }

        function addToPortfolioQuick(domain) {
            const price = prompt(`Enter purchase price for ${domain}:`, '0');
            if (price !== null) {
                portfolio.push({
                    domain: domain,
                    price: parseFloat(price),
                    dateAdded: Date.now()
                });
                saveData();
                alert('Added to portfolio!');
            }
        }

        function removeFromPortfolio(index) {
            if (confirm('Remove this domain from portfolio?')) {
                portfolio.splice(index, 1);
                saveData();
                loadPortfolio();
            }
        }

        function removeFromWatchlist(domain) {
            if (confirm(`Remove ${domain} from watchlist?`)) {
                watchlist = watchlist.filter(d => d !== domain);
                saveData();
                loadWatchlist();
            }
        }

        async function recheckDomain(domain) {
            // Force recheck by removing from cache
            delete cache[domain];
            const result = await checkDomain(domain);
            alert(`Domain checked: ${result.available ? 'Available' : 'Taken'}${result.premium ? ' (Premium)' : ''}`);
            location.reload();
        }

        function clearResults() {
            document.getElementById('scanResults').innerHTML = '';
            document.getElementById('domainInput').value = '';
        }

        function filterWatchlist(filter) {
            // Implement filtering logic
            loadWatchlist();
        }

        function filterExpiration(filter) {
            // Implement filtering logic
            loadExpiration();
        }

        function refreshWatchlist() {
            alert('Refreshing all watchlist domains...');
            loadWatchlist();
        }

        function exportCache() {
            const dataStr = JSON.stringify({cache, watchlist, portfolio}, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'domain-hunter-cache-' + Date.now() + '.json';
            link.click();
        }

        function importCache() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = 'application/json';
            input.onchange = e => {
                const file = e.target.files[0];
                const reader = new FileReader();
                reader.onload = event => {
                    const data = JSON.parse(event.target.result);
                    cache = data.cache || {};
                    watchlist = data.watchlist || [];
                    portfolio = data.portfolio || [];
                    saveData();
                    alert('Cache imported successfully!');
                    location.reload();
                };
                reader.readAsText(file);
            };
            input.click();
        }

        function clearCache() {
            if (confirm('Are you sure you want to clear all cache data? This cannot be undone.')) {
                cache = {};
                saveData();
                loadCacheManager();
                alert('Cache cleared!');
            }
        }

        // Initialize on load
        window.onload = () => {
            console.log('Domain Hunter Pro Enhanced - Ready!');
        };
    </script>
</body>
</html>