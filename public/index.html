<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Domain Hunter Pro - AI Edition</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <div class="logo"><i class="fas fa-globe-americas"></i><span>Domain Hunter</span></div>
                <span class="badge-ai">AI</span>
            </div>
            <div class="sidebar-menu">
                <a href="#dashboard" class="menu-item active" onclick="navigate('dashboard')">
                    <i class="fas fa-chart-line"></i><span>Dashboard</span>
                </a>
                <a href="#generator" class="menu-item" onclick="navigate('generator')">
                    <i class="fas fa-magic"></i><span>AI Generator</span>
                </a>
                <a href="#scanner" class="menu-item" onclick="navigate('scanner')">
                    <i class="fas fa-search"></i><span>Scanner</span>
                </a>
                <a href="#monitoring" class="menu-item" onclick="navigate('monitoring')">
                    <i class="fas fa-eye"></i><span>Monitoring</span>
                    <span class="badge" id="monitorBadge">0</span>
                </a>
                <a href="#expiring" class="menu-item" onclick="navigate('expiring')">
                    <i class="fas fa-clock"></i><span>Expiring</span>
                    <span class="badge" style="background:#ef4444;" id="expiringBadge">0</span>
                </a>
                <a href="#profit" class="menu-item" onclick="navigate('profit')">
                    <i class="fas fa-dollar-sign"></i><span>Profit Tracker</span>
                </a>
                <a href="#portfolio" class="menu-item" onclick="navigate('portfolio')">
                    <i class="fas fa-briefcase"></i><span>Portfolio</span>
                </a>
                <a href="#settings" class="menu-item" onclick="navigate('settings')">
                    <i class="fas fa-cog"></i><span>Settings</span>
                </a>
            </div>
            <div class="sidebar-footer">
                <div class="user-info">
                    <i class="fas fa-user-circle"></i>
                    <div><div class="user-name">Domain Hunter</div><div class="user-status">Pro Edition</div></div>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">

            <!-- Dashboard Page -->
            <div id="dashboard-page" class="page active">
                <div class="page-header">
                    <h1>Dashboard</h1>
                    <button class="btn btn-primary" onclick="refreshStats()"><i class="fas fa-sync-alt"></i> Refresh</button>
                </div>
                <div class="stats-grid">
                    <div class="stat-card gradient-purple">
                        <div class="stat-icon"><i class="fas fa-search"></i></div>
                        <div class="stat-content"><div class="stat-value" id="totalScans">0</div><div class="stat-label">Total Scans</div></div>
                    </div>
                    <div class="stat-card gradient-green">
                        <div class="stat-icon"><i class="fas fa-check-circle"></i></div>
                        <div class="stat-content"><div class="stat-value" id="availableDomains">0</div><div class="stat-label">Available</div></div>
                    </div>
                    <div class="stat-card gradient-red">
                        <div class="stat-icon"><i class="fas fa-clock"></i></div>
                        <div class="stat-content"><div class="stat-value" id="expiring7">0</div><div class="stat-label">Expiring (7d)</div></div>
                    </div>
                    <div class="stat-card gradient-gold">
                        <div class="stat-icon"><i class="fas fa-crown"></i></div>
                        <div class="stat-content"><div class="stat-value" id="premiumDomains">0</div><div class="stat-label">Premium</div></div>
                    </div>
                </div>

                <!-- Next Expiring Domains -->
                <div class="content-card">
                    <h3>‚è∞ Next Expiring Domains</h3>
                    <div id="nextExpiringList" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px;">
                        <div style="text-align:center;color:#9ca3af;padding:40px;">Loading...</div>
                    </div>
                </div>

                <div class="profit-cards">
                    <div class="profit-card"><div class="profit-header"><i class="fas fa-dollar-sign"></i><span>Total Profit</span></div><div class="profit-amount" id="totalProfit">$0</div><div class="profit-subtitle">All Time</div></div>
                    <div class="profit-card"><div class="profit-header"><i class="fas fa-chart-line"></i><span>Revenue</span></div><div class="profit-amount" id="totalRevenue">$0</div><div class="profit-subtitle">Total Sales</div></div>
                    <div class="profit-card"><div class="profit-header"><i class="fas fa-shopping-cart"></i><span>Invested</span></div><div class="profit-amount" id="totalInvested">$0</div><div class="profit-subtitle">Total Purchases</div></div>
                    <div class="profit-card"><div class="profit-header"><i class="fas fa-percentage"></i><span>ROI</span></div><div class="profit-amount" id="totalROI">0%</div><div class="profit-subtitle">Return Rate</div></div>
                </div>
            </div>

            <!-- AI Generator Page -->
            <div id="generator-page" class="page">
                <div class="page-header">
                    <h1>ü§ñ AI Domain Generator</h1>
                </div>
                <div class="content-card">
                    <h3>Generation Type</h3>
                    <div class="option-grid">
                        <div class="option-card active" id="opt-geo" onclick="selectGenType('geo')">
                            <i class="fas fa-globe"></i><h4>Geo Domains</h4><p>Location + industry style (e.g. madridrealty.com)</p>
                        </div>
                        <div class="option-card" id="opt-business" onclick="selectGenType('business')">
                            <i class="fas fa-briefcase"></i><h4>Business Names</h4><p>Brandable keyword combos (e.g. madridpro.io)</p>
                        </div>
                        <div class="option-card" id="opt-mixed" onclick="selectGenType('mixed')">
                            <i class="fas fa-random"></i><h4>Mixed</h4><p>Combination of both styles</p>
                        </div>
                    </div>

                    <div class="form-group" style="margin-top:20px;">
                        <label style="font-weight:700;">üîë Keywords <span style="color:#ef4444;">*</span> <small style="color:#9ca3af;font-weight:400;">(your domains will be built around these)</small></label>
                        <input type="text" id="genKeywords" placeholder="e.g. loyer, invest, shop ‚Äî comma separated" style="font-size:15px;">
                        <p style="color:#6b7280;font-size:12px;margin-top:6px;">üí° Tip: enter a niche or brand word. The generator will use it as the core of every domain.</p>
                    </div>

                    <!-- üåç GeoNames Location Search -->
                    <div style="margin-top:20px;padding:20px;background:linear-gradient(135deg,rgba(34,197,94,0.08),rgba(16,185,129,0.08));border:1px solid rgba(16,185,129,0.2);border-radius:12px;">
                        <label style="font-weight:700;display:flex;align-items:center;gap:8px;margin-bottom:12px;">
                            <i class="fas fa-map-marker-alt" style="color:#10b981;"></i>
                            üåç Add Location from GeoNames
                            <small style="color:#6b7280;font-weight:400;margin-left:auto;">(Optional - enhances generation)</small>
                        </label>
                        
                        <div style="display:flex;gap:10px;margin-bottom:12px;flex-wrap:wrap;">
                            <label style="display:flex;align-items:center;gap:6px;cursor:pointer;">
                                <input type="radio" name="geoType" value="cities" checked onchange="clearGeoSearch()">
                                <span style="font-size:14px;font-weight:600;">üèôÔ∏è Cities</span>
                            </label>
                            <label style="display:flex;align-items:center;gap:6px;cursor:pointer;">
                                <input type="radio" name="geoType" value="countries" onchange="handleCountryMode()">
                                <span style="font-size:14px;font-weight:600;">üåê Countries</span>
                            </label>
                            <button class="btn btn-secondary" onclick="loadAllCountries()" style="padding:6px 12px;font-size:13px;margin-left:8px;">
                                <i class="fas fa-list"></i> Browse All Countries
                            </button>
                        </div>

                        <div id="populationFilter" style="margin-bottom:12px;">
                            <label style="font-size:13px;font-weight:600;color:#059669;margin-bottom:6px;display:block;">üë• Filter by Population:</label>
                            <div style="display:flex;gap:8px;flex-wrap:wrap;">
                                <button class="btn" onclick="setPopulationFilter(0)" data-pop="0" style="padding:6px 12px;font-size:12px;background:rgba(16,185,129,0.15);color:#059669;border:1px solid #10b981;">All Cities</button>
                                <button class="btn" onclick="setPopulationFilter(100000)" data-pop="100000" style="padding:6px 12px;font-size:12px;">100k+</button>
                                <button class="btn" onclick="setPopulationFilter(500000)" data-pop="500000" style="padding:6px 12px;font-size:12px;">500k+</button>
                                <button class="btn" onclick="setPopulationFilter(1000000)" data-pop="1000000" style="padding:6px 12px;font-size:12px;">1M+</button>
                            </div>
                        </div>

                        <div style="position:relative;">
                            <input 
                                type="text" 
                                id="geoSearchInput" 
                                placeholder="e.g. Paris, Madrid, Tokyo, France, Spain..." 
                                style="font-size:14px;padding-right:40px;"
                                autocomplete="off"
                                oninput="handleGeoSearch(this.value)"
                            >
                            <i class="fas fa-search" style="position:absolute;right:15px;top:50%;transform:translateY(-50%);color:#9ca3af;pointer-events:none;"></i>
                            <div id="geoSearchDropdown" style="display:none;position:absolute;top:100%;left:0;right:0;background:#fff;border:1px solid #e5e7eb;border-radius:8px;box-shadow:0 10px 30px rgba(0,0,0,0.15);max-height:400px;overflow-y:auto;z-index:1000;margin-top:4px;"></div>
                        </div>

                        <div id="selectedLocationBadge" style="margin-top:12px;display:none;">
                            <div style="display:inline-flex;align-items:center;gap:10px;background:#fff;border:2px solid #10b981;border-radius:10px;padding:10px 16px;">
                                <span id="selectedLocationText" style="font-size:14px;font-weight:700;color:#1e293b;"></span>
                                <button onclick="clearSelectedLocation()" style="background:none;border:none;cursor:pointer;color:#ef4444;font-size:18px;line-height:1;padding:0;">√ó</button>
                            </div>
                        </div>

                        <p style="color:#059669;font-size:12px;margin-top:10px;margin-bottom:0;">
                            ‚ú® <strong>Example:</strong> Keyword "loyer" + Location "Paris" ‚Üí generates <code>loyerparis.com</code>, <code>paris-loyer.fr</code>, <code>parloyer.io</code>
                        </p>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label>Count</label>
                            <input type="number" id="genCount" value="20" min="5" max="100">
                        </div>
                        <div class="form-group">
                            <label>Min Name Length <small style="color:#9ca3af">(excl. TLD)</small></label>
                            <input type="number" id="minLength" value="4" min="2" max="20">
                        </div>
                        <div class="form-group">
                            <label>Max Name Length <small style="color:#9ca3af">(excl. TLD)</small></label>
                            <input type="number" id="maxLength" value="30" min="2" max="63">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="allowNumbers" checked>
                            <span>Allow numbers in domain names</span>
                        </label>
                    </div>

                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="allowHyphens" checked>
                            <span>Allow hyphens (-) in domain names</span>
                        </label>
                    </div>

                    <div class="form-group">
                        <label style="font-weight:700;">üåê Domain Extensions (TLDs)</label>
                        <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(110px,1fr));gap:10px;margin-top:10px;">
                            <label class="checkbox-label" style="margin:0;"><input type="checkbox" class="tld-checkbox" value=".com" checked><span>.com</span></label>
                            <label class="checkbox-label" style="margin:0;"><input type="checkbox" class="tld-checkbox" value=".net"><span>.net</span></label>
                            <label class="checkbox-label" style="margin:0;"><input type="checkbox" class="tld-checkbox" value=".org"><span>.org</span></label>
                            <label class="checkbox-label" style="margin:0;"><input type="checkbox" class="tld-checkbox" value=".io"><span>.io</span></label>
                            <label class="checkbox-label" style="margin:0;"><input type="checkbox" class="tld-checkbox" value=".ai"><span>.ai</span></label>
                            <label class="checkbox-label" style="margin:0;"><input type="checkbox" class="tld-checkbox" value=".co"><span>.co</span></label>
                            <label class="checkbox-label" style="margin:0;"><input type="checkbox" class="tld-checkbox" value=".app"><span>.app</span></label>
                            <label class="checkbox-label" style="margin:0;"><input type="checkbox" class="tld-checkbox" value=".dev"><span>.dev</span></label>
                            <label class="checkbox-label" style="margin:0;"><input type="checkbox" class="tld-checkbox" value=".tech"><span>.tech</span></label>
                            <label class="checkbox-label" style="margin:0;"><input type="checkbox" class="tld-checkbox" value=".online"><span>.online</span></label>
                            <label class="checkbox-label" style="margin:0;"><input type="checkbox" class="tld-checkbox" value=".store"><span>.store</span></label>
                            <label class="checkbox-label" style="margin:0;"><input type="checkbox" class="tld-checkbox" value=".shop"><span>.shop</span></label>
                            <label class="checkbox-label" style="margin:0;"><input type="checkbox" class="tld-checkbox" value=".xyz"><span>.xyz</span></label>
                            <label class="checkbox-label" style="margin:0;"><input type="checkbox" class="tld-checkbox" value=".club"><span>.club</span></label>
                            <label class="checkbox-label" style="margin:0;"><input type="checkbox" class="tld-checkbox" value=".es"><span>.es</span></label>
                            <label class="checkbox-label" style="margin:0;"><input type="checkbox" class="tld-checkbox" value=".de"><span>.de</span></label>
                            <label class="checkbox-label" style="margin:0;"><input type="checkbox" class="tld-checkbox" value=".fr"><span>.fr</span></label>
                            <label class="checkbox-label" style="margin:0;"><input type="checkbox" class="tld-checkbox" value=".uk"><span>.uk</span></label>
                        </div>

                        <div style="margin-top:14px;padding:14px;background:rgba(99,102,241,0.06);border:1px dashed #818cf8;border-radius:10px;">
                            <label style="font-weight:600;color:#6366f1;font-size:13px;">‚úèÔ∏è Add custom TLD extension</label>
                            <div style="display:flex;gap:8px;margin-top:8px;align-items:center;">
                                <input type="text" id="customTldInput" placeholder="e.g. .madrid  .realty  .global" style="flex:1;font-size:14px;">
                                <button class="btn btn-secondary" onclick="addCustomTLD()" style="white-space:nowrap;">
                                    <i class="fas fa-plus"></i> Add TLD
                                </button>
                            </div>
                            <div id="customTldList" style="display:flex;flex-wrap:wrap;gap:8px;margin-top:10px;"></div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="useLLM">
                            <span>ü§ñ Use AI/LLM for smarter generation (configure in Settings first)</span>
                        </label>
                    </div>

                    <div id="generationProgress" style="display:none;text-align:center;padding:20px;background:linear-gradient(135deg,rgba(99,102,241,0.1),rgba(139,92,246,0.1));border-radius:12px;margin-bottom:20px;">
                        <div style="font-size:48px;margin-bottom:15px;">
                            <i class="fas fa-magic" style="color:#8b5cf6;animation:spin 2s linear infinite;"></i>
                        </div>
                        <h3 style="color:#8b5cf6;margin:0 0 10px;">üéØ Generating Domains...</h3>
                        <p style="color:#6b7280;margin:0;" id="generationProgressText">Building creative domain names from your keywords...</p>
                        <div style="margin-top:15px;">
                            <div style="height:6px;background:rgba(139,92,246,0.2);border-radius:10px;overflow:hidden;">
                                <div style="height:100%;background:linear-gradient(90deg,#8b5cf6,#6366f1);border-radius:10px;animation:progressAnim 1.5s ease-in-out infinite;"></div>
                            </div>
                        </div>
                    </div>

                    <button class="btn btn-primary btn-large" onclick="generateDomains()" id="generateBtn">
                        <i class="fas fa-magic"></i> Generate Domains
                    </button>
                </div>
            </div>

            <!-- Scanner Page -->
            <div id="scanner-page" class="page">
                <div class="page-header">
                    <h1>üîç Domain Scanner</h1>
                    <button class="btn btn-secondary" onclick="document.getElementById('fileInput').click()">
                        <i class="fas fa-upload"></i> Upload File
                    </button>
                    <input type="file" id="fileInput" style="display:none;" accept=".txt,.csv" onchange="uploadFile()">
                </div>
                <div class="content-card">
                    <div class="form-group">
                        <label>Enter Domains (one per line)</label>
                        <textarea id="domainInput" rows="10" placeholder="example.com&#10;test.io&#10;awesome-domain.app"></textarea>
                    </div>
                    <div id="scanProgress" style="display:none;text-align:center;padding:20px;background:linear-gradient(135deg,rgba(16,185,129,0.1),rgba(34,197,94,0.1));border-radius:12px;margin-bottom:20px;">
                        <div style="font-size:48px;margin-bottom:15px;">
                            <i class="fas fa-satellite-dish" style="color:#10b981;animation:pulse 1.5s ease-in-out infinite;"></i>
                        </div>
                        <h3 style="color:#10b981;margin:0 0 10px;">üîç Scanning Domains...</h3>
                        <p style="color:#6b7280;margin:0;" id="scanProgressText">Please wait...</p>
                        <div style="margin-top:15px;">
                            <div style="height:6px;background:rgba(16,185,129,0.2);border-radius:10px;overflow:hidden;">
                                <div style="height:100%;background:linear-gradient(90deg,#10b981,#059669);border-radius:10px;animation:progressAnim 1.5s ease-in-out infinite;"></div>
                            </div>
                        </div>
                    </div>
                    <button class="btn btn-primary btn-large" onclick="checkDomains()" id="checkBtn">
                        <i class="fas fa-rocket"></i> Check Domains
                    </button>
                    <div id="scanResults" style="margin-top:20px;"></div>
                </div>
            </div>

            <!-- Monitoring Page -->
            <div id="monitoring-page" class="page">
                <div class="page-header">
                    <h1>üëÅÔ∏è Domain Monitoring</h1>
                    <p>All scanned domains are automatically stored here</p>
                </div>
                <div class="content-card">
                    <div class="filter-bar">
                        <input type="text" id="monitorKeyword" placeholder="Search domains...">
                        <select id="monitorAvailable">
                            <option value="">All Status</option>
                            <option value="true">Available</option>
                            <option value="false">Taken</option>
                        </select>
                        <input type="text" id="monitorRegistrar" placeholder="Registrar...">
                        <button class="btn btn-primary" onclick="applyMonitorFilters()"><i class="fas fa-filter"></i> Filter</button>
                        <button class="btn btn-secondary" onclick="clearMonitorFilters()"><i class="fas fa-times"></i> Clear</button>
                        <button class="btn" style="background:#ef4444;color:#fff;margin-left:auto;" onclick="removeAllMonitoring()"><i class="fas fa-trash-alt"></i> Remove All</button>
                    </div>
                    <div id="monitoringResults"></div>
                </div>
            </div>

            <!-- Expiring Domains Page -->
            <div id="expiring-page" class="page">
                <div class="page-header">
                    <h1>‚è∞ Expiring Domains</h1>
                    <p>Domains expiring soon - take action before it's too late</p>
                </div>
                <div class="content-card">
                    <div style="margin-bottom:20px;">
                        <label style="font-weight:700;margin-bottom:10px;display:block;">Filter by Days Left</label>
                        <div style="display:flex;gap:10px;flex-wrap:wrap;align-items:center;">
                            <button class="btn btn-danger" onclick="loadExpiring(7)" style="padding:10px 20px;">‚â§ 7 days</button>
                            <button class="btn btn-secondary" onclick="loadExpiring(14)" style="padding:10px 20px;background:#f59e0b;">‚â§ 14 days</button>
                            <button class="btn btn-secondary" onclick="loadExpiring(30)" style="padding:10px 20px;">‚â§ 30 days</button>
                            <button class="btn btn-secondary" onclick="loadExpiring(60)" style="padding:10px 20px;">‚â§ 60 days</button>
                            <button class="btn btn-secondary" onclick="loadExpiring(90)" style="padding:10px 20px;">‚â§ 90 days</button>
                            <div style="display:flex;gap:8px;align-items:center;">
                                <input type="number" id="customExpDays" placeholder="Custom days" style="width:140px;padding:10px;" min="1">
                                <button class="btn btn-primary" onclick="applyExpiringFilter()" style="padding:10px 20px;">Apply</button>
                            </div>
                        </div>
                    </div>
                    <div id="expiringResults"></div>
                </div>
            </div>

            <!-- Profit Tracker -->
            <div id="profit-page" class="page">
                <div class="page-header">
                    <h1>üí∞ Profit Tracker</h1>
                    <div class="period-tabs">
                        <button class="period-tab active" onclick="loadProfitAnalytics('week')">Week</button>
                        <button class="period-tab" onclick="loadProfitAnalytics('month')">Month</button>
                        <button class="period-tab" onclick="loadProfitAnalytics('year')">Year</button>
                    </div>
                </div>
                <div class="content-card">
                    <h3>Add Sale</h3>
                    <div class="form-grid">
                        <div class="form-group"><label>Domain</label><input type="text" id="saleDomain" placeholder="example.com"></div>
                        <div class="form-group"><label>Buy Price ($)</label><input type="number" id="saleBuyPrice" placeholder="5" step="0.01"></div>
                        <div class="form-group"><label>Sell Price ($)</label><input type="number" id="saleSellPrice" placeholder="50" step="0.01"></div>
                        <div class="form-group"><label>Buy Date</label><input type="date" id="saleBuyDate"></div>
                        <div class="form-group"><label>Sell Date</label><input type="date" id="saleSellDate"></div>
                        <div class="form-group full-width"><label>Notes</label><input type="text" id="saleNotes" placeholder="Optional notes..."></div>
                    </div>
                    <button class="btn btn-success btn-large" onclick="addSale()"><i class="fas fa-plus"></i> Add Sale</button>
                </div>
                <div class="content-card"><h3>Sales History</h3><div id="salesList"></div></div>
                <div class="content-card"><h3>Analytics</h3><div id="profitAnalytics"></div></div>
            </div>

            <!-- Portfolio -->
            <div id="portfolio-page" class="page">
                <div class="page-header"><h1>üíº Portfolio</h1></div>
                <div class="content-card">
                    <h3>Add Domain to Portfolio</h3>
                    <div class="form-grid">
                        <div class="form-group"><label>Domain</label><input type="text" id="portfolioDomain" placeholder="example.com"></div>
                        <div class="form-group"><label>Price ($)</label><input type="number" id="portfolioPrice" placeholder="100"></div>
                        <div class="form-group"><label>Registrar</label><input type="text" id="portfolioRegistrar" placeholder="GoDaddy"></div>
                        <div class="form-group full-width"><label>Notes</label><input type="text" id="portfolioNotes" placeholder="Investment notes..."></div>
                    </div>
                    <button class="btn btn-primary btn-large" onclick="addToPortfolio()"><i class="fas fa-plus"></i> Add to Portfolio</button>
                </div>
                <div class="content-card"><h3>My Domains</h3><div id="portfolioList"></div></div>
            </div>

            <!-- Settings -->
            <div id="settings-page" class="page">
                <div class="page-header">
                    <h1>‚öôÔ∏è AI Settings</h1>
                    <div style="background:linear-gradient(135deg,rgba(16,185,129,0.1),rgba(59,130,246,0.1));padding:15px 20px;border-radius:12px;border-left:4px solid #10b981;">
                        <strong style="color:#10b981;">‚ú® Recommended:</strong> <strong>Qwen2.5:3b</strong> or <strong>Phi3:mini</strong>
                    </div>
                </div>
                <div class="content-card">
                    <h3>ü§ñ LLM Configuration</h3>
                    <div class="form-group">
                        <label>Provider</label>
                        <select id="llmProvider" onchange="updateLLMProvider()">
                            <option value="local">Local (Ollama) - FREE & PRIVATE</option>
                            <option value="openai">OpenAI (GPT) - Paid</option>
                            <option value="claude">Claude (Anthropic) - Paid</option>
                            <option value="perplexity">Perplexity API - Paid</option>
                            <option value="grok">Grok (xAI) - Paid</option>
                        </select>
                    </div>
                    <div id="connectionTestResult" style="display:none;margin-bottom:20px;"></div>
                    <div id="localConfig" class="llm-config">
                        <h4><i class="fas fa-server"></i> Local LLM (Ollama) - FREE</h4>
                        <div class="form-group"><label class="checkbox-label"><input type="checkbox" id="localEnabled"><span>Enable Local LLM</span></label></div>
                        <div class="form-group">
                            <label>Model</label>
                            <select id="localModel">
                                <option value="qwen2.5:3b" selected>‚≠ê Qwen2.5:3b (Recommended)</option>
                                <option value="phi3:mini">‚≠ê Phi3:mini (Ultra Fast)</option>
                                <option value="qwen2.5:7b">Qwen2.5:7b (Better Quality)</option>
                                <option value="llama2:7b">LLaMA 2 7B</option>
                                <option value="mistral:7b">Mistral 7B</option>
                                <option value="gemma:7b">Gemma 7B</option>
                                <option value="tinyllama">TinyLlama</option>
                            </select>
                        </div>
                        <div class="form-group"><label>Endpoint</label><input type="text" id="localEndpoint" value="http://localhost:11434/api/generate"></div>
                        <button class="btn btn-secondary" onclick="testConnection('local')" style="width:100%;margin-bottom:15px;"><i class="fas fa-vial"></i> Test Connection</button>
                        <div class="alert alert-info"><i class="fas fa-info-circle"></i> <strong>Quick Setup:</strong><br>1. <code>ollama pull qwen2.5:3b</code><br>2. <code>ollama serve</code></div>
                    </div>
                    <div id="openaiConfig" class="llm-config" style="display:none;">
                        <h4><i class="fas fa-robot"></i> OpenAI</h4>
                        <div class="form-group"><label class="checkbox-label"><input type="checkbox" id="openaiEnabled"><span>Enable OpenAI</span></label></div>
                        <div class="form-group"><label>API Key</label><input type="password" id="openaiKey" placeholder="sk-..."></div>
                        <div class="form-group"><label>Model</label><select id="openaiModel"><option value="gpt-3.5-turbo">GPT-3.5 Turbo</option><option value="gpt-4">GPT-4</option><option value="gpt-4-turbo">GPT-4 Turbo</option></select></div>
                        <button class="btn btn-secondary" onclick="testConnection('openai')" style="width:100%;margin-bottom:15px;"><i class="fas fa-vial"></i> Test Connection</button>
                    </div>
                    <div id="claudeConfig" class="llm-config" style="display:none;">
                        <h4><i class="fas fa-brain"></i> Claude</h4>
                        <div class="form-group"><label class="checkbox-label"><input type="checkbox" id="claudeEnabled"><span>Enable Claude</span></label></div>
                        <div class="form-group"><label>API Key</label><input type="password" id="claudeKey" placeholder="sk-ant-..."></div>
                        <div class="form-group"><label>Model</label><select id="claudeModel"><option value="claude-3-haiku-20240307">Claude 3 Haiku</option><option value="claude-3-sonnet-20240229">Claude 3 Sonnet</option><option value="claude-3-opus-20240229">Claude 3 Opus</option></select></div>
                        <button class="btn btn-secondary" onclick="testConnection('claude')" style="width:100%;margin-bottom:15px;"><i class="fas fa-vial"></i> Test Connection</button>
                    </div>
                    <div id="perplexityConfig" class="llm-config" style="display:none;">
                        <h4><i class="fas fa-bolt"></i> Perplexity API</h4>
                        <div class="form-group"><label class="checkbox-label"><input type="checkbox" id="perplexityEnabled"><span>Enable Perplexity</span></label></div>
                        <div class="form-group"><label>API Key</label><input type="password" id="perplexityKey" placeholder="pplx-..."></div>
                        <div class="form-group">
                            <label>Model</label>
                            <select id="perplexityModel">
                                <option value="sonar" selected>‚≠ê Sonar (Recommended - Fast Search-Grounded)</option>
                                <option value="sonar-pro">Sonar Pro (Deeper Retrieval)</option>
                                <option value="sonar-reasoning">Sonar Reasoning (Multi-Step)</option>
                            </select>
                        </div>
                        <button class="btn btn-secondary" onclick="testConnection('perplexity')" style="width:100%;margin-bottom:15px;"><i class="fas fa-vial"></i> Test Connection</button>
                        <div class="alert alert-info" style="background:rgba(59,130,246,0.1);border-left:4px solid #3b82f6;padding:12px;border-radius:8px;">
                            <i class="fas fa-info-circle"></i> <strong>2026 Model Names:</strong><br>
                            Perplexity now uses simplified model names:<br>
                            ‚Ä¢ <code>sonar</code> - Default, fast<br>
                            ‚Ä¢ <code>sonar-pro</code> - More sources<br>
                            ‚Ä¢ <code>sonar-reasoning</code> - Multi-step reasoning
                        </div>
                    </div>
                    <div id="grokConfig" class="llm-config" style="display:none;">
                        <h4><i class="fas fa-robot"></i> Grok</h4>
                        <div class="form-group"><label class="checkbox-label"><input type="checkbox" id="grokEnabled"><span>Enable Grok</span></label></div>
                        <div class="form-group"><label>API Key</label><input type="password" id="grokKey" placeholder="xai-..."></div>
                        <div class="form-group"><label>Model</label><select id="grokModel"><option value="grok-beta">Grok Beta</option></select></div>
                        <button class="btn btn-secondary" onclick="testConnection('grok')" style="width:100%;margin-bottom:15px;"><i class="fas fa-vial"></i> Test Connection</button>
                    </div>
                    <button class="btn btn-success btn-large" onclick="saveConfig()"><i class="fas fa-save"></i> Save Configuration</button>
                </div>
            </div>

        </main>
    </div>

    <style>
    @keyframes spin { from { transform:rotate(0deg); } to { transform:rotate(360deg); } }
    @keyframes pulse { 0%,100% { opacity:1;transform:scale(1); } 50% { opacity:0.7;transform:scale(1.1); } }
    @keyframes progressAnim { 0% { width:5%; } 50% { width:75%; } 100% { width:95%; } }
    .domain-card-clickable { cursor:pointer; transition:transform 0.2s, box-shadow 0.2s; }
    .domain-card-clickable:hover { transform:translateY(-4px); box-shadow:0 10px 30px rgba(0,0,0,0.2)!important; }
    </style>

    <script src="app.js"></script>
</body>
</html>